import{u as h,b as f,R as k,j as a,m as c,d as j,r as s,D as v,a as w}from"./index-28864719.js";import{a as y,C as b}from"./CloseButton-565f4da1.js";import{P as m,u as M,a as P}from"./projects-data-6f8b9d46.js";function T({project:t,backgroundPositionX:n}){const[{isMobile:u}]=h(window.navigator.userAgent),r=f(),[l,e]=k.useState(!1);return a.jsx(c.div,{layout:!0,style:{backgroundImage:`image-set(url(${t.imageSet[0]}) 1x, url(${t.imageSet[1]}) 2x)`,backgroundPositionX:n},className:"project_img",draggable:"false",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},onMouseDown:()=>e(!0),onMouseMove:()=>e(!1),onMouseUp:()=>l&&r(`/projects/${t.id}`),"data-cursor-text":"Click or Drag",children:u&&a.jsx(c.div,{className:"project_img_overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},children:a.jsx(y,{})})},t.name)}const I=()=>{const{isLandscape:t}=j(),[n,u]=s.useState(0),[r,l]=s.useState(0),e=s.useRef(null);s.useEffect(()=>{e.current&&(u(e.current.clientWidth-window.innerWidth/2),l(e.current.clientHeight-window.innerHeight/2))},[e.current]);const o=s.useMemo(()=>{if(!(m.length<=1))return t?"x":"y"},[t]),g=M(0),i=s.useMemo(()=>o==="x"?{right:window.innerWidth,left:-n+window.innerWidth/2}:{top:-r,bottom:0},[t,n,r]),x=s.useMemo(()=>o==="x"?[i.left,i.right]:[i.top,i.bottom],[o,i]),p=P(g,x,["20%","80%"]);return a.jsx(c.div,{"data-cursor":"-drag",className:"image-track",ref:e,drag:o,_dragX:g,style:{x:g},dragConstraints:i,dragElastic:.5,children:m.map(d=>a.jsx(T,{project:d,backgroundPositionX:p},d.name))})};function C(){const t=f();return a.jsxs(c.div,{className:"projects",variants:w.sectionContentAnim,initial:"initial",animate:"animate",layoutId:"project_background",children:[a.jsx(b,{callback:()=>t("/")}),a.jsx(I,{})]},"projects")}const R=()=>v(C);export{R as default};
