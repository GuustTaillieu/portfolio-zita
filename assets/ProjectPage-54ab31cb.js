import{i as B,p as R,v as T,e as C,f as k,g as y,h as V,k as M,l as D,w as Y,n as v,o as X,r as m,j as r,m as a,d as q,R as G,b as H,u as J,D as F,q as K}from"./index-28864719.js";import{a as b,P as I}from"./projects-data-6f8b9d46.js";import{C as Q}from"./CloseButton-565f4da1.js";function U(e,t,n){var s;if(typeof e=="string"){let i=document;t&&(B(!!t.current),i=t.current),n?((s=n[e])!==null&&s!==void 0||(n[e]=i.querySelectorAll(e)),e=n[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}const w=new WeakMap;let h;function Z(e,t){if(t){const{inlineSize:n,blockSize:s}=t[0];return{width:n,height:s}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function ee({target:e,contentRect:t,borderBoxSize:n}){var s;(s=w.get(e))===null||s===void 0||s.forEach(i=>{i({target:e,contentSize:t,get size(){return Z(e,n)}})})}function te(e){e.forEach(ee)}function ne(){typeof ResizeObserver>"u"||(h=new ResizeObserver(te))}function se(e,t){h||ne();const n=U(e);return n.forEach(s=>{let i=w.get(s);i||(i=new Set,w.set(s,i)),i.add(t),h==null||h.observe(s)}),()=>{n.forEach(s=>{const i=w.get(s);i==null||i.delete(t),i!=null&&i.size||h==null||h.unobserve(s)})}}const j=new Set;let x;function ie(){x=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};j.forEach(n=>n(t))},window.addEventListener("resize",x)}function oe(e){return j.add(e),x||ie(),()=>{j.delete(e),!j.size&&x&&(x=void 0)}}function re(e,t){return typeof e=="function"?oe(e):se(e,t)}const ce=50,_=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),le=()=>({time:0,x:_(),y:_()}),ae={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function L(e,t,n,s){const i=n[t],{length:o,position:c}=ae[t],l=i.current,f=n.time;i.current=e["scroll"+c],i.scrollLength=e["scroll"+o]-e["client"+o],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=R(0,i.scrollLength,i.current);const d=s-f;i.velocity=d>ce?0:T(i.current-l,d)}function ue(e,t,n){L(e,"x",t,n),L(e,"y",t,n),t.time=n}function de(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:o}=s.getBBox();n.x+=i,n.y+=o;let c=null,l=s.parentNode;for(;!c;)l.tagName==="svg"&&(c=l),l=s.parentNode;s=c}else break;return n}const fe={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},z={start:0,center:.5,end:1};function O(e,t,n=0){let s=0;if(z[e]!==void 0&&(e=z[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?s=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?s=i/100*document.documentElement.clientWidth:e.endsWith("vh")?s=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(s=t*e),n+s}const ge=[0,0];function he(e,t,n,s){let i=Array.isArray(e)?e:ge,o=0,c=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,z[e]?e:"0"]),o=O(i[0],n,s),c=O(i[1],t),o-c}const me={x:0,y:0};function pe(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function xe(e,t,n){let{offset:s=fe.All}=n;const{target:i=e,axis:o="y"}=n,c=o==="y"?"height":"width",l=i!==e?de(i,e):me,f=i===e?{width:e.scrollWidth,height:e.scrollHeight}:pe(i),d={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let g=!t[o].interpolate;const S=s.length;for(let u=0;u<S;u++){const P=he(s[u],d[c],f[c],l[o]);!g&&P!==t[o].interpolatorOffsets[u]&&(g=!0),t[o].offset[u]=P}g&&(t[o].interpolate=C(t[o].offset,k(s)),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=t[o].interpolate(t[o].current)}function ye(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function ve(e,t,n,s={}){return{measure:()=>ye(e,s.target,n),update:i=>{ue(e,n,i),(s.offset||s.target)&&xe(e,n,s)},notify:()=>t(n)}}const p=new WeakMap,$=new WeakMap,E=new WeakMap,N=e=>e===document.documentElement?window:e;function we(e,{container:t=document.documentElement,...n}={}){let s=E.get(t);s||(s=new Set,E.set(t,s));const i=le(),o=ve(t,e,i,n);if(s.add(o),!p.has(t)){const l=()=>{for(const u of s)u.measure()},f=()=>{for(const u of s)u.update(M.timestamp)},d=()=>{for(const u of s)u.notify()},g=()=>{y.read(l,!1,!0),y.update(f,!1,!0),y.update(d,!1,!0)};p.set(t,g);const S=N(t);window.addEventListener("resize",g,{passive:!0}),t!==document.documentElement&&$.set(t,re(t,g)),S.addEventListener("scroll",g,{passive:!0})}const c=p.get(t);return y.read(c,!1,!0),()=>{var l;V(c);const f=E.get(t);if(!f||(f.delete(o),f.size))return;const d=p.get(t);p.delete(t),d&&(N(t).removeEventListener("scroll",d),(l=$.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function W(e,t){Y(!!(!t||t.current))}const je=()=>({scrollX:v(0),scrollY:v(0),scrollXProgress:v(0),scrollYProgress:v(0)});function A({container:e,target:t,layoutEffect:n=!0,...s}={}){const i=D(je);return(n?X:m.useEffect)(()=>(W("target",t),W("container",e),we(({x:c,y:l})=>{i.scrollX.set(c.current),i.scrollXProgress.set(c.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...s,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(s.offset)]),i}const Se=({imageSet:e})=>{const t=m.useRef(null),{scrollYProgress:n}=A({target:t,offset:["start end","end end"]}),s=b(n,[0,1],["0%","100%"]);return r.jsx("div",{className:"project_section","data-type":"full_width_image",ref:t,children:r.jsx(a.div,{"data-cursor":"-exclusion",style:{width:s,backgroundImage:`image-set(url(${e[0]}) 1x, url(${e[1]}) 2x)`}})})};const Ee=({title:e,imageSet:t,text:n,textFirst:s})=>{const{isPortrait:i}=q(),o=m.useMemo(()=>i?"column":s?"row-reverse":"row",[s]);return r.jsxs(a.div,{className:"project_section","data-type":"image_text",style:{flexDirection:o},transition:{duration:.5,ease:"easeInOut",staggerChildren:.5,delayChildren:.5},children:[r.jsx(a.img,{"data-cursor":"-exclusion",loading:"lazy",src:t[0],srcSet:`${t[0]} 1x, ${t[1]} 2x`,alt:e??"project image",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5}}),r.jsxs(a.div,{"data-cursor":"-exclusion",className:"project_section_text",style:{textAlign:s?"right":"left"},initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:"all"},children:[r.jsx("h3",{children:e}),r.jsx("p",{children:n})]})]})};const Ie=({imageSet:e})=>{const t=G.useRef(null),{scrollYProgress:n}=A({target:t,smooth:.5,offset:["start end","end end"]}),s=b(n,[0,1],[0,1]);return r.jsx(a.div,{ref:t,className:"project_section","data-type":"image_center",transition:{duration:.5,ease:"easeInOut",staggerChildren:.5,delayChildren:.5},children:r.jsx(a.img,{"data-cursor":"-exclusion",loading:"lazy",src:e[0],srcSet:`${e[0]} 1x, ${e[1]} 2x`,alt:"project image",style:{opacity:s},viewport:{once:!0,amount:1}})})};const ze=({images:e})=>r.jsx("div",{className:"project_section","data-type":"image_row",children:e.map((t,n)=>r.jsx(a.div,{className:"image_row_image",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:.2},transition:{duration:1,ease:"easeInOut",delay:n/10+.5},style:{backgroundImage:`image-set(
							url(${t[0]}) 1x,
							url(${t[1]}) 2x`},"data-cursor":"-exclusion"},t[0]+n))});const Pe=({currentProjectId:e})=>{const t=H(),n=m.useMemo(()=>I.find(i=>i.id===e+1)??I[0],[e]);return r.jsxs(a.div,{className:"project_section","data-type":"next_project",onClick:()=>t(`/projects/${n.id}`),children:[r.jsx(a.h2,{"data-cursor":"-exclusion",className:"project_title",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:"all"},transition:{duration:.5,ease:"easeInOut"},children:"Next Project"}),r.jsx(a.img,{"data-cursor":"-exclusion",loading:"lazy",src:n.imageSet[0],srcSet:`${n.imageSet[0]} 1x, ${n.imageSet[1]} 2x`,alt:"next project",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.1}})]})};const _e=({title:e,imageSet:t,text:n,textFirst:s})=>{const[{isMobile:i}]=J(window.navigator.userAgent),o=m.useMemo(()=>i?"column":s?"row-reverse":"row",[s]);return r.jsxs(a.div,{className:"project_section","data-type":"text_image",style:{flexDirection:o},transition:{duration:.5,ease:"easeInOut",staggerChildren:.5,delayChildren:.5},children:[r.jsx(a.img,{"data-cursor":"-exclusion",loading:"lazy",src:t[0],srcSet:`${t[0]} 1x, ${t[1]} 2x`,alt:e??"project image",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5}}),r.jsxs(a.div,{"data-cursor":"-exclusion",className:"project_section_text",style:{textAlign:s?"right":"left"},initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:"all"},children:[r.jsx("h3",{children:e}),r.jsx("p",{children:n})]})]})},Le=()=>{const{id:e}=K(),t=H();if(m.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[e]),!e)return r.jsx("div",{children:"404"});const n=I.find(s=>s.id===parseInt(e));return n?r.jsxs(a.div,{className:"project",children:[r.jsx(a.div,{style:{backgroundImage:`image-set(
						url(${n.imageSet[0]}) 1x,
						url(${n.imageSet[1]}) 2x`},className:"project_img"},"header"+n.name),r.jsx(Q,{callback:()=>t("/projects")}),r.jsx(a.h2,{"data-cursor":"-exclusion",className:"project_title",initial:{opacity:0,y:60},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:"all"},transition:{duration:.5,ease:"easeInOut"},children:n.name}),r.jsx(Ie,{imageSet:n.imageSet},"section-image-center-"+n.id),r.jsx(Ee,{imageSet:n.imageSet,text:n.description,title:n.name},"section-image-text-"+n.id),r.jsx(Se,{imageSet:n.imageSet},"section-full-width-image-"+n.id),r.jsx(ze,{images:Array(3).fill(n.imageSet)},"section-image-row-"+n.id),r.jsx(_e,{imageSet:n.imageSet,text:n.description,title:n.name},"section-text-image-"+n.id),r.jsx(Pe,{currentProjectId:n.id},"section-next-project-"+n.id)]},"project-"+n.id):r.jsx("div",{children:"404"})},We=()=>F(Le);export{We as default};
